{"ast":null,"code":"import _objectSpread from \"C:/Users/Ignacio/OneDrive - UNIVERSIDAD ANDRES BELLO/Desktop/Ingenieria de software/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\Ignacio\\\\OneDrive - UNIVERSIDAD ANDRES BELLO\\\\Desktop\\\\Ingenieria de software\\\\frontend\\\\src\\\\RegistrationForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RegistrationForm(_ref) {\n  _s();\n  let {\n    api\n  } = _ref;\n  const [form, setForm] = useState({\n    rut: '',\n    nombre: '',\n    apellido: '',\n    email: '',\n    password: '',\n    passwordConfirm: ''\n  });\n  const [msg, setMsg] = useState({\n    text: '',\n    type: 'success'\n  });\n  const handleChange = e => {\n    setForm(_objectSpread(_objectSpread({}, form), {}, {\n      [e.target.name]: e.target.value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    // Validación cliente (antes de enviar)\n    if (form.password !== form.passwordConfirm) {\n      setMsg({\n        text: 'Las contraseñas no coinciden',\n        type: 'error'\n      });\n      return;\n    }\n    // Llamada al backend\n    try {\n      const res = await fetch(\"\".concat(api, \"/register\"), {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(form)\n      });\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.message || 'Error al registrar');\n      setMsg({\n        text: 'Registrado con éxito 🎉 Inicia sesión.',\n        type: 'success'\n      });\n    } catch (err) {\n      setMsg({\n        text: err.message,\n        type: 'error'\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Registro\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"rut\",\n      placeholder: \"RUT\",\n      onChange: handleChange,\n      value: form.rut,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"nombre\",\n      placeholder: \"Nombre\",\n      onChange: handleChange,\n      value: form.nombre,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"apellido\",\n      placeholder: \"Apellido\",\n      onChange: handleChange,\n      value: form.apellido,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"email\",\n      placeholder: \"Email\",\n      type: \"email\",\n      onChange: handleChange,\n      value: form.email,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"password\",\n      placeholder: \"Contrase\\xF1a\",\n      type: \"password\",\n      onChange: handleChange,\n      value: form.password,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"passwordConfirm\",\n      placeholder: \"Repite Contrase\\xF1a\",\n      type: \"password\",\n      onChange: handleChange,\n      value: form.passwordConfirm,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Crear cuenta\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), msg.text && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"msg \".concat(msg.type === 'error' ? 'error' : ''),\n      children: msg.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(RegistrationForm, \"CHfc0IfJO0X3k1j8n+pLU9Tdfeo=\");\n_c = RegistrationForm;\nvar _c;\n$RefreshReg$(_c, \"RegistrationForm\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","RegistrationForm","_ref","_s","api","form","setForm","rut","nombre","apellido","email","password","passwordConfirm","msg","setMsg","text","type","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","res","fetch","concat","method","headers","body","JSON","stringify","data","json","ok","Error","message","err","onSubmit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","required","_c","$RefreshReg$"],"sources":["C:/Users/Ignacio/OneDrive - UNIVERSIDAD ANDRES BELLO/Desktop/Ingenieria de software/frontend/src/RegistrationForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nexport default function RegistrationForm({ api }) {\r\n  const [form, setForm] = useState({\r\n    rut: '',\r\n    nombre: '',\r\n    apellido: '',\r\n    email: '',\r\n    password: '',\r\n    passwordConfirm: ''\r\n  });\r\n  const [msg, setMsg] = useState({ text:'', type:'success' });\r\n\r\n  const handleChange = e => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    // Validación cliente (antes de enviar)\r\n    if (form.password !== form.passwordConfirm) {\r\n      setMsg({ text: 'Las contraseñas no coinciden', type: 'error' });\r\n      return;\r\n    }\r\n    // Llamada al backend\r\n    try {\r\n      const res = await fetch(`${api}/register`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type':'application/json' },\r\n        body: JSON.stringify(form),\r\n      });\r\n      const data = await res.json();\r\n      if (!res.ok) throw new Error(data.message || 'Error al registrar');\r\n      setMsg({ text: 'Registrado con éxito 🎉 Inicia sesión.', type: 'success' });\r\n    } catch (err) {\r\n      setMsg({ text: err.message, type: 'error' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"card\">\r\n      <h2>Registro</h2>\r\n      <input name=\"rut\"             placeholder=\"RUT\"              onChange={handleChange} value={form.rut}            required />\r\n      <input name=\"nombre\"          placeholder=\"Nombre\"           onChange={handleChange} value={form.nombre}         required />\r\n      <input name=\"apellido\"        placeholder=\"Apellido\"         onChange={handleChange} value={form.apellido}       required />\r\n      <input name=\"email\"           placeholder=\"Email\"            type=\"email\"      onChange={handleChange} value={form.email}          required />\r\n      <input name=\"password\"        placeholder=\"Contraseña\"       type=\"password\"   onChange={handleChange} value={form.password}       required />\r\n      <input name=\"passwordConfirm\" placeholder=\"Repite Contraseña\" type=\"password\"  onChange={handleChange} value={form.passwordConfirm}required />\r\n      <button type=\"submit\">Crear cuenta</button>\r\n      {msg.text && (\r\n        <p className={`msg ${msg.type==='error'?'error':''}`}>{msg.text}</p>\r\n      )}\r\n    </form>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}